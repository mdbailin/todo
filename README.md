Todo App
-----

## Introduction

Here is a simple application for writing todo lists. This app has backend capabilities and uses SQLalchemy to manage a relational database, as well as Migrate for version control. The app allows you to create multiple lists, and "check" and delete all items in a list at once by checking/deleting the list itself. The database was made using PostGRESql.



## Main Files: Project Structure

  ```sh
  ├── README.md
  ├── app.py 
  ├── migrations (you will fill these with your own version control)
  └── templates
      ├── index.html
  ```

## How to run

Download the repository from Github, and in the project's path, run

```
FLASK_APP=app.py FLASK_DEBUG=true flask run
```

from your terminal.

## Heroku

The app can be found on Heroku:
https://todo-app-39488234478.herokuapp.com

When you first run the app, you'll be prompted to login via Auth0. You can do so with the following credentials:
username: matthewdbailin@gmail.com
password: @password1

## Auth0 Setup

## Authentification

All API Endpoints are decorated with Auth0 permissions. To use the project locally, you need to config Auth0 accordingly

### Auth0 for locally use
#### Create an App & API

1. Login to https://manage.auth0.com/ 
2. Click on Applications Tab
3. Create Application
4. Give it a name like `Todo-App` and select "Regular Web Application"
5. Go to Settings and find `domain`. Copy & paste it into .env => AUTH0_DOMAIN='dev-lzgwqs5u.us.auth0.com' (Note: the domain can be autogenerated without issue)
6. Click on API Tab 
7. Create a new API:
   1. Name: `newtodoapp`
   2. Identifier `newtodoapp`
   3. Keep Algorithm as it is
8. Go to Settings and find `Identifier`. Copy & paste it into .env => API_AUDIENCE = 'newtodoapp' 

#### Create Roles & Permissions

1. In order to create `Roles & Permissions`, you need to `Enable RBAC` in your API. This setting will be on the API dashboard found on Auth0.
2. Also, make sure to select `Add Permissions in the Access Token`.
2. First, create a new Role under `Users and Roles` => `Roles` => `Create Roles`
3. Give it a appropriate name like `Admin`.
4. Go back to the API Tab and find your newly created API. Click on Permissions.
5. Create & assign all needed permissions accordingly (see app.py for all of the permissions used by the server)
6. After you created all permissions this app needs, go back to `Users and Roles` => `Roles` and select the role you recently created.
6. Under `Permissions`, assign the appropriate permissions to the role. The "admin" role should have all permissions, while the "viewer" should only be able to view todolists and todos.